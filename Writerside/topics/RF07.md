# ðŸš« RF07 - Desativar Membro

![Logo.png](Logo.png){ width=150 }

## ðŸ“ DescriÃ§Ã£o

Esta funcionalidade permite que o operador desative um membro no sistema Quilombo Pena Branca, mantendo seu histÃ³rico e dados, mas impedindo que participe ativamente das atividades da comunidade.

## ðŸ‘‘ Atores

- Administrador do sistema
- Operador

## âš ï¸ PrÃ©-condiÃ§Ãµes

- O operador deve estar autenticado no sistema
- O membro a ser desativado deve estar atualmente ativo no sistema
- O membro deve estar cadastrado no sistema

## ðŸ”Œ Endpoints

- `DELETE /quilombo-api/member/{id}`

## ðŸ“‹ Dados da DesativaÃ§Ã£o

| Campo      | Tipo      | ObrigatÃ³rio | DescriÃ§Ã£o              | RestriÃ§Ãµes              |
|------------|-----------|-------------|------------------------|-------------------------|
| `id`       | `integer` | âœ… Sim       | ID do membro           | Deve existir no sistema |

## ðŸ”„ Fluxo Principal

```mermaid
sequenceDiagram
    actor O as Operador
    participant S as Sistema
    participant BD as Banco de Dados
    
    O->>S: Acessa a pÃ¡gina de listagem do membro
    S->>BD: Busca dados do membro
    O->>S: Clica em desativar membro
    S->>O: Exibe formulÃ¡rio de confirmaÃ§Ã£o
    BD->>S: Confirma atualizaÃ§Ã£o
    S->>O: Exibe mensagem de confirmaÃ§Ã£o
```

1. O operador acessa a pÃ¡gina de listagem de membros
2. O operador clica no botÃ£o "Desativar Membro".
3. O sistema apresenta um formulÃ¡rio de confirmaÃ§Ã£o.
4. O sistema valida os dados informados.
5. O sistema altera o status do membro para inativo e registra a data da desativaÃ§Ã£o.
6. O sistema volta a exibir a lista com os membros, agora com o membro desativado.

## ðŸ”€ Fluxos Alternativos

### âš ï¸ F01- Dados invÃ¡lidos

1. No passo 6 do fluxo principal, o sistema identifica dados invÃ¡lidos 
2. O sistema exibe mensagens especÃ­ficas para cada erro encontrado.
3. O formulÃ¡rio continua aberto para correÃ§Ã£o.

## ðŸ§ª Exemplo de RequisiÃ§Ã£o

### RequisiÃ§Ã£o HTTP
```http
PATCH /quilombo-api/member/42/deactivate HTTP/1.1
Host: api.quilombopenabranca.org
Content-Type: application/json
Authorization: Bearer {token}

{
  "reason": "MudanÃ§a de residÃªncia para outro estado",
  "comments": "Membro solicitou desativaÃ§Ã£o temporÃ¡ria atÃ© retorno Ã  comunidade",
  "date": "2023-07-15"
}
```


## ðŸ–¼ï¸ Interface de ConfirmaÃ§Ã£o

![desativar-membro.png](desativar-membro.png)

## âš ï¸ Impactos da DesativaÃ§Ã£o

Quando um membro Ã© desativado no sistema:

- ðŸš« NÃ£o aparece nas listagens padrÃ£o de membros ativos
- ðŸ“ Permanece nos registros histÃ³ricos e relatÃ³rios completos
- ðŸ”’ MantÃ©m todo seu histÃ³rico de obrigaÃ§Ãµes e informaÃ§Ãµes
- ðŸ”„ Pode ser reativado posteriormente por um operador autorizado
- ðŸ‘‘ Tem seus cargos mantidos mas marcados como inativos

---


> ---------------------------------------------------------------------------
> #### ðŸŒ™ Quilombo Pena Branca ðŸŒ™
> ***Honrando nossas raÃ­zes, construindo nosso futuro***
> ---------------------------------------------------------------------------