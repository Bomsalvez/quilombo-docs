# ðŸ”‘ RF9 - Logar Operador

![Logo.png](Logo.png){ width=150 }

## ðŸ“ DescriÃ§Ã£o

Este requisito funcional permite que os operadores realizem login no sistema Quilombo Pena Branca, garantindo acesso seguro Ã s funcionalidades de acordo com suas permissÃµes. O processo de autenticaÃ§Ã£o assegura que apenas usuÃ¡rios autorizados possam acessar o sistema.

## ðŸ‘‘ Atores

- Administrador do sistema
- Operador

## âœ… PrÃ©-condiÃ§Ãµes

- O operador deve estar previamente cadastrado no sistema
- O operador deve possuir status ativo
- O sistema deve estar disponÃ­vel e acessÃ­vel

## ðŸŒ Endpoint

- `POST /quilombo-api/authenticate`

## ðŸ“Š Dados do Login

| Campo    | Tipo   | ObrigatÃ³rio | RestriÃ§Ãµes             |
|----------|--------|-------------|------------------------|
| nome     | String | âœ“           | MÃ­nimo de 3 caracteres |
| password | String | âœ“           | MÃ­nimo de 8 caracteres |

## ðŸ”„ Fluxo Principal

```mermaid
sequenceDiagram
    participant O as Operador
    participant S as Sistema
    participant DB as Banco de Dados
    
    O->>S: Acessa a pÃ¡gina de login
    S->>O: Exibe formulÃ¡rio de login
    O->>S: Preenche nome e senha
    O->>S: Clica no botÃ£o "Entrar"
    S->>DB: Valida credenciais
    DB->>S: Retorna dados do operador
    S->>S: Gera token JWT
    S->>O: Redireciona para a pÃ¡gina inicial
    S->>O: Exibe mensagem de boas-vindas
```

## ðŸ”€ Fluxos Alternativos

### 1. nome e/ou senha incorretos

```mermaid
sequenceDiagram
    participant O as Operador
    participant S as Sistema
    participant DB as Banco de Dados
    
    O->>S: Preenche nome e/ou senha incorretos
    O->>S: Clica no botÃ£o "Entrar"
    S->>DB: Valida credenciais
    DB->>S: Retorna erro de autenticaÃ§Ã£o
    S->>O: Exibe mensagem "nome ou senha incorretos"
    S->>O: MantÃ©m na pÃ¡gina de login
```

### 2. Operador inativo

```mermaid
sequenceDiagram
    participant O as Operador
    participant S as Sistema
    participant DB as Banco de Dados
    
    O->>S: Preenche nome e senha
    O->>S: Clica no botÃ£o "Entrar"
    S->>DB: Valida credenciais
    DB->>S: Retorna status inativo
    S->>O: Exibe mensagem "Conta desativada, contate o administrador"
    S->>O: MantÃ©m na pÃ¡gina de login
```


## ðŸ“„ Exemplo de RequisiÃ§Ã£o HTTP

```http
POST /quilombo-api/auth/login HTTP/1.1
Host: api.quilombopenabranca.org
Content-Type: application/json

{
  "nome": "arthur",
  "password": "senha@123"
}
```

## ðŸ“„ Exemplo de Resposta (Sucesso)

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "expiresIn": 3600
}
```

## ðŸ–¼ï¸ Interface de ReferÃªncia

![login.png](login.png)

## ðŸ”’ ConsideraÃ§Ãµes de SeguranÃ§a

- O sistema deve armazenar apenas o hash das senhas, nunca as senhas em texto puro
- As senhas devem ser transmitidas atravÃ©s de conexÃ£o HTTPS
- Tentativas consecutivas de login malsucedidas devem resultar em bloqueio temporÃ¡rio da conta
- O token JWT gerado deve ter tempo de expiraÃ§Ã£o configurÃ¡vel
- Todos os acessos (bem-sucedidos ou nÃ£o) devem ser registrados para fins de auditoria

---

> ---------------------------------------------------------------------------
> #### ðŸŒ™ Quilombo Pena Branca ðŸŒ™
> ***Honrando nossas raÃ­zes, construindo nosso futuro***
> ---------------------------------------------------------------------------