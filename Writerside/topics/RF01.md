# üë§ RF01 - Cadastrar Operador

![Logo.png](Logo.png){ width=150 }

## üìù Descri√ß√£o

- Esta funcionalidade permite que o administrador crie um operador no sistema.

## üëë Atores

- Administrador do sistema

## ‚ö†Ô∏è Pr√©-condi√ß√µes

- O administrador deve estar autenticado no sistema.
- O CPF informado n√£o pode estar registrado para outro operador.

## üîå Endpoints

- `POST /api/v1/users`

## üìã Dados

| Campo      | Tipo     | Obrigat√≥rio | Descri√ß√£o         | Restri√ß√µes                      |
|------------|----------|-------------|-------------------|---------------------------------|
| `name`     | `string` | ‚úÖ Sim       | Nome do operador  | M√≠nimo de 3 caracteres          |
| `cpf`      | `string` | ‚úÖ Sim       | CPF do operador   | Formato v√°lido (999.999.999-99) |
| `password` | `string` | ‚úÖ Sim       | Senha do operador | M√≠nimo de 8 caracteres          |

## üîÑ Fluxo Principal

```mermaid
sequenceDiagram
    actor A as Admin
    participant S as Sistema
    participant BD as Banco de Dados
    
    A->>S: Acessa p√°gina de cadastro de operador
    S->>A: Exibe formul√°rio de cadastro
    A->>S: Preenche dados do operador
    A->>S: Envia formul√°rio
    S->>S: Valida dados informados
    S->>BD: Verifica se CPF j√° existe
    BD->>S: Retorna resultado
    S->>BD: Salva novo operador
    S->>A: Exibe mensagem de sucesso
```

1. Inicialmente, o admin acessa a p√°gina de cadastro de operador.
2. O sistema exibe um formul√°rio de cadastro com os campos a serem preenchidos.
3. O admin preenche os campos obrigat√≥rios do formul√°rio.
4. O admin envia o formul√°rio de cadastro.
5. O sistema valida os dados informados.
6. O sistema cria uma conta de operador com os dados fornecidos.
7. O sistema exibe uma mensagem de confirma√ß√£o de cadastro.

## üîÄ Fluxos Alternativos

### ‚ö†Ô∏è F01 - CPF j√° cadastrado

```mermaid
sequenceDiagram
    actor A as Admin
    participant S as Sistema
    participant BD as Banco de Dados
    
    A->>S: Acessa p√°gina de cadastro de operador
    S->>A: Exibe formul√°rio de cadastro
    A->>S: Preenche dados do operador
    A->>S: Envia formul√°rio
    S->>S: Valida dados informados
    S->>BD: Verifica se CPF j√° existe
    BD->>S: CPF j√° existe
    S->>A: Exibe mensagem de erro
```

1. Inicialmente, o admin acessa a p√°gina de cadastro de operador.
2. O sistema exibe um formul√°rio de cadastro com os campos a serem preenchidos.
3. O admin preenche os campos obrigat√≥rios do formul√°rio.
4. O admin envia o formul√°rio de cadastro.
5. O sistema valida os dados informados.
6. O sistema exibe uma mensagem de erro informando que o CPF j√° est√° cadastrado.
7. O sistema retorna ao passo 2 do fluxo principal para que o admin corrija os dados informados.


### ‚ö†Ô∏è F02 - Dados inv√°lidos

1. No passo 5 do fluxo principal, se os dados informados forem inv√°lidos, o sistema exibe uma mensagem de erro.
2. O sistema retorna ao passo 2 do fluxo principal para que o admin corrija os dados informados.

## üß™ Exemplos de Uso

### Requisi√ß√£o HTTP
```http
POST /api/v1/users HTTP/1.1
Host: api.quilombopenabranca.org
Content-Type: application/json
Authorization: Bearer {token}

{
  "name": "Jo√£o da Silva",
  "cpf": "123.456.789-01",
  "password": "senha@123"
}
```

### Resposta de Sucesso
```http
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": 1,
  "name": "Jo√£o da Silva",
  "cpf": "123.456.789-01",
  "createdAt": "2023-05-15T10:30:45Z"
}
```

---

  #### üåô Quilombo Pena Branca üåô
  ***Honrando nossas ra√≠zes, construindo nosso futuro***

